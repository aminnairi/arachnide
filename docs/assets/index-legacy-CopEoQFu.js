!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function n(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,i,u=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,a=t}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return u}}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t,e,n){return(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,n||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}function c(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}System.register([],(function(t,e){"use strict";return{execute:function(){var t=o((function t(e,n,r,a,o,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,"name",void 0),i(this,"attributes",void 0),i(this,"content",void 0),i(this,"reference",void 0),i(this,"whenCreated",void 0),i(this,"whenDestroyed",void 0),this.name=e,this.attributes=n,this.content=r,this.reference=a,this.whenCreated=o,this.whenDestroyed=u})),e=function e(n){if(null==n)return null;if("string"==typeof n)return document.createTextNode(n);if("boolean"==typeof n||"number"==typeof n)return document.createTextNode(String(n));if(!(n instanceof t))throw new Error("virtualElement is not an instance of VirtualHTMLElement");var a=document.createElement(n.name);return Object.entries(n.attributes).forEach((function(t){var e=r(t,2),n=e[0],o=e[1];null!=o&&(a[n]=o)})),n.content.forEach((function(t){var n=e(t);null!==n&&a.appendChild(n)})),n.reference.target=a,n.whenCreated(),a},a=function(t){return"string"==typeof t},u=function(t){return"number"==typeof t},c=function(t){return"boolean"==typeof t},l=function(t){return null===t},s=function(t){return void 0===t},f=function(t){return t instanceof Element},d=function n(o,i){return function(d){var m;if(l(o)||s(o)){if(l(i)||s(i))return;if(null===d)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");var h=e(i);if(null===h)return;return d.appendChild(h),void(i instanceof t&&(i.whenCreated(),f(h)&&(i.reference.target=h)))}if(a(o)||u(o)||c(o)){if(Object.is(o,i))return;if(null===d)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");var p=e(i);if(null===p)return;return d.replaceWith(p),void(i instanceof t&&(i.whenCreated(),f(p)&&(i.reference.target=p)))}if(l(i)||s(i)){if(l(o)||s(o))return;if(null===d)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");return d.remove(),void o.whenDestroyed()}if(a(i)||u(i)||c(i)){if(Object.is(o,i))return;if(null===d)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");var v=e(i);if(null===v)return;return d.replaceWith(v),void(o instanceof t&&o.whenDestroyed())}if(!(o instanceof t))throw new Error("old virtual element from previous render is not an instance of VirtualHTMLElement");if(!(i instanceof t))throw new Error("old virtual element from previous render is not an instance of VirtualHTMLElement");if(o.name!==i.name){if(null===d)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");var b=e(i);if(null===b)return;return d.replaceWith(b),f(b)&&(i.reference.target=b),o.whenDestroyed(),void i.whenCreated()}Object.entries(o.attributes).forEach((function(t){var e,n=r(t,2),a=n[0],o=n[1],u=(null!==(e=null==i?void 0:i.attributes)&&void 0!==e?e:{})[a];null!=u?u!==o&&(d[a]=u):d[a]=null})),Object.entries(i.attributes).forEach((function(t){var e=r(t,2),n=e[0],a=e[1];null==o.attributes[n]&&null!=a&&(d[n]=a)})),o.content.forEach((function(t,e){if(null===d)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");var r=i.content[e],a=d.childNodes[e],o=n(t,r);if(void 0===a)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");window.queueMicrotask((function(){o(a)}))})),i.content.slice((null!==(m=null==o?void 0:o.content)&&void 0!==m?m:[]).length).forEach((function(t){var e=n(null,t);window.queueMicrotask((function(){e(d)}))}))}},m=function(e){var n=e.name,r=e.attributes,a=void 0===r?{}:r,o=e.content,i=void 0===o?[]:o,u=e.reference,c=e.whenCreated,l=void 0===c?function(){}:c,s=e.whenDestroyed,f=void 0===s?function(){}:s;return new t(n,a,Array.isArray(i)?i:[i],null!=u?u:{target:null},l,f)},h=function(t){var e,n=/^\/?(.*?)\/?$/.exec(t);return n&&null!==(e=n.at(1))&&void 0!==e?e:t},p=function(t,e){var n=Object.entries(e).find((function(e){var n=r(e,1)[0],a=h(n),o=h(t),i=a.split(/\/+/),u=o.split(/\/+/);return u.length===i.length&&i.every((function(t,e){return!!t.startsWith(":")||t===u[e]}))}));return n||["",function(){return null}]},v=function(t,e){var r=h(t),a=h(e),o=r.split(/\/+/),u=a.split(/\/+/);return u.length!==o.length?{}:o.every((function(t,e){return!!t.startsWith(":")||t===u[e]}))?o.reduce((function(t,e,r){if(!e.startsWith(":"))return t;var a=u[r];return a?n(n({},t),{},i({},"".concat(e.slice(1)),a)):t}),{}):{}},b=function(t){return m(n({name:"button"},t))},y=function(t){return m(n(n({},t),{},{name:"div"}))},w=function(t){return m(n(n({},t),{},{name:"h1"}))},g=function(t){return m(n(n({},t),{},{name:"input",content:[]}))},E=function(t){return m(n(n({},t),{},{name:"label"}))},O=function(t){return m(n(n({},t),{},{name:"p"}))},j=function(t){return m(n(n({},t),{},{name:"ul"}))},S=function(t){var e=Object.entries(t).filter((function(t){return null!=r(t,2)[1]}));return 0===e.length?null:e.map((function(t){var e=r(t,2),n=e[0],a=e[1];return"".concat(n,": ").concat(a)})).join(";")};window.addEventListener("error",(function(t){alert("Error: ".concat(t.message))}));var P=document.getElementById("root");if(!P)throw new Error("Root element not found");!function(t){var n,a=t.pages,o=t.root,i=t.initialState,u=t.onUpdate,c=i(),l="arachnide:update",s=function(t){var e=t(c);null!==e&&window.dispatchEvent(new CustomEvent(l,{detail:e}))},f=function(t){var e=Object.entries(t.parameters).reduce((function(t,e){var n=r(e,2),a=n[0],o=n[1];return t.replaceAll(":".concat(a),String(o))}),t.path),n=new URLSearchParams(Object.entries(t.searchParameters).map((function(t){var e=r(t,2),n=e[0],a=e[1];return[n,String(a)]}))),a=0===n.size?e:"".concat(e,"?").concat(n.toString());console.log({targetPathWithQuery:a}),window.history.pushState(null,a,a),window.dispatchEvent(new CustomEvent("popstate"))};window.addEventListener("popstate",(function(){var t=r(p(window.location.pathname,a),2),e=t[0],i=t[1],u=v(e,window.location.pathname),l=Object.fromEntries(new URLSearchParams(window.location.search)),m=i({state:c,update:s,changePage:f,parameters:u,searchParameters:l}),h=d(n,m);n=m,h(o.firstChild)})),window.addEventListener(l,(function(t){var e=t.detail;c=u({event:e,state:c});var i=r(p(window.location.pathname,a),2),l=i[0],m=i[1],h=v(l,window.location.pathname),b=Object.fromEntries(new URLSearchParams(window.location.search)),y=m({state:c,update:s,changePage:f,parameters:h,searchParameters:b}),w=d(n,y);n=y,w(o.firstChild)}));var m=r(p(window.location.pathname,a),2),h=m[0],b=m[1],y=v(h,window.location.pathname),w=Object.fromEntries(new URLSearchParams(window.location.search)),g=b({state:c,update:s,changePage:f,parameters:y,searchParameters:w}),E=e(g);n=g,null!==E&&o.appendChild(E)}({root:P,initialState:function(){return{counter:10,steps:10}},onUpdate:function(t){var e=t.state,r=t.event;if("INCREMENT"===r.name)return n(n({},e),{},{counter:e.counter+e.steps});if("DECREMENT"===r.name){var a=e.counter-e.steps;return n(n({},e),{},a<0?{counter:0}:{counter:e.counter-e.steps})}return"SET_STEPS"===r.name?n(n({},e),{},{steps:r.data}):e},pages:{"/arachnide":function(t){var e,r=t.state,a=t.update,o=t.changePage;return y({attributes:{className:"container"},content:[w({attributes:{className:"center",style:S({"text-align":"center"})},content:"Home"}),b({attributes:{style:S({display:"block","margin-left":"auto","margin-right":"auto","margin-bottom":"30px"}),onclick:function(){o({path:"/arachnide/summary",parameters:{},searchParameters:{}})}},content:"Go to summary"}),O({attributes:{style:S({"text-align":"center"})},content:"Get a summary of all of the below informations"}),y({attributes:{className:"grid"},content:[b({attributes:{className:"outline",onclick:function(){a((function(){return{name:"INCREMENT"}}))}},content:"Increment"}),b({attributes:{className:"outline",onclick:function(){a((function(){return{name:"DECREMENT"}}))}},content:"Decrement"})]}),E({attributes:{htmlFor:"steps"},content:" Steps "}),g({attributes:{id:"steps",step:10,type:"number",value:r.steps,oninput:(e=function(t){a((function(){return{name:"SET_STEPS",data:Number(t)||100}}))},function(t){t.target instanceof HTMLInputElement&&(t.target.value,1)&&e(t.target.value,t)})}}),j({content:Array.from(Array(r.counter)).map((function(t,e){return function(t){return m(n(n({},t),{},{name:"li"}))}({attributes:{},content:"Index #".concat(e)})}))})]})},"/arachnide/summary":function(t){var e=t.state,n=t.changePage;return y({attributes:{className:"container"},content:[w({attributes:{style:S({"text-align":"center"})},content:"Summary"}),O({attributes:{style:S({"text-align":"center"})},content:"Counter is currently at ".concat(e.counter)}),O({attributes:{style:S({"text-align":"center"})},content:"Steps is currently at ".concat(e.steps)}),b({attributes:{style:S({display:"block",margin:"0 auto"}),onclick:function(){n({path:"/arachnide",parameters:{},searchParameters:{}})}},content:"Go back home"})]})}}});var D=document.createElement("link");D.href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css",D.rel="stylesheet",document.head.appendChild(D)}}}))}();
