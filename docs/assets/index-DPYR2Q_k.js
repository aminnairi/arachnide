function F(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();const y=e=>{if(e==null)return null;if(typeof e=="string")return document.createTextNode(e);if(typeof e=="boolean"||typeof e=="number")return document.createTextNode(String(e));const t=document.createElement(e.name);return Object.entries(e.attributes).forEach(([r,o])=>{o!=null&&(t[r]=o)}),e.content.forEach(r=>{const o=y(r);o!==null&&t.appendChild(o)}),e.reference.target=t,t},j=e=>typeof e=="string",L=e=>typeof e=="number",x=e=>typeof e=="boolean",g=e=>e===null,E=e=>e===void 0,N=e=>e instanceof Element,D=e=>!(g(e)||E(e)||j(e)||L(e)||x(e)),v=(e,t)=>r=>{var o;if(g(e)||E(e)){if(g(t)||E(t))return;if(r===null)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");const n=y(t);return n===null?void 0:(N(n)&&D(t)&&(t.reference.target=n),void r.appendChild(n))}if(j(e)||L(e)||x(e)){if(Object.is(e,t))return;if(r===null)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");const n=y(t);return n===null?void 0:(D(t)&&N(n)&&(t.reference.target=n),void r.replaceWith(n))}if(g(t)||E(t)){if(g(e)||E(e))return;if(r===null)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");r.remove()}else{if(j(t)||L(t)||x(t)){if(Object.is(e,t))return;if(r===null)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");const n=y(t);return n===null?void 0:(D(t)&&N(n)&&(t.reference.target=n),void r.replaceWith(n))}if(e.name===t.name)Object.entries(e.attributes).forEach(([n,a])=>{var s;const i=((s=t==null?void 0:t.attributes)!=null?s:{})[n];i!=null?i!==a&&(r[n]=i):r[n]=null}),Object.entries(t.attributes).forEach(([n,a])=>{e.attributes[n]==null&&a!=null&&(r[n]=a)}),e.content.forEach((n,a)=>{if(r===null)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");const i=t.content[a],s=r.childNodes[a],c=v(n,i);if(s===void 0)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");window.queueMicrotask(()=>{c(s)})}),t.content.slice(((o=e==null?void 0:e.content)!=null?o:[]).length).forEach(n=>{const a=v(null,n);window.queueMicrotask(()=>{a(r)})});else{if(r===null)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");const n=y(t);if(n===null)return;r.replaceWith(n)}}},M=e=>{var r;const t=/^\/?(.*?)\/?$/.exec(e);return t&&(r=t.at(1))!=null?r:e},P=(e,t)=>Object.entries(t).find(([o])=>{const n=M(o),a=M(e),i=n.split(/\/+/),s=a.split(/\/+/);return s.length===i.length&&i.every((c,h)=>c.startsWith(":")?!0:c===s[h])})||["",()=>null],$=(e,t)=>{const r=M(e),o=M(t),n=r.split(/\/+/),a=o.split(/\/+/);return a.length!==n.length?{}:n.every((i,s)=>i.startsWith(":")?!0:i===a[s])?n.reduce((i,s,c)=>{if(!s.startsWith(":"))return i;const h=a[c];return h?{...i,["".concat(s.slice(1))]:h}:i},{}):{}},k=({views:e,root:t,initialState:r,onUpdate:o})=>{let n,a=r();const i="arachnide:update",s=l=>{l!==null&&window.dispatchEvent(new CustomEvent(i,{detail:l}))},c=l=>{const b=Object.entries(l.parameters).reduce((u,[f,S])=>u.replaceAll(":".concat(f),String(S)),l.path),w=new URLSearchParams(Object.entries(l.searchParameters).map(([u,f])=>[u,String(f)])),m=w.size===0?b:"".concat(b,"?").concat(w.toString());console.log({targetPathWithQuery:m}),window.history.pushState(null,m,m),window.dispatchEvent(new CustomEvent("popstate"))};window.addEventListener("popstate",()=>{const[l,b]=P(window.location.pathname,e),w=$(l,window.location.pathname),m=Object.fromEntries(new URLSearchParams(window.location.search)),u=b({state:a,update:s,go:c,parameters:w,searchParameters:m}),f=v(n,u);n=u,f(t.firstChild)}),window.addEventListener(i,({detail:l})=>{a=o({event:l,state:a});const[b,w]=P(window.location.pathname,e),m=$(b,window.location.pathname),u=Object.fromEntries(new URLSearchParams(window.location.search)),f=w({state:a,update:s,go:c,parameters:m,searchParameters:u}),S=v(n,f);n=f,S(t.firstChild)});const[h,_]=P(window.location.pathname,e),A=$(h,window.location.pathname),U=Object.fromEntries(new URLSearchParams(window.location.search)),T=_({state:a,update:s,go:c,parameters:A,searchParameters:U}),R=y(T);return n=T,R!==null&&t.appendChild(R),{update:s,go:c}},d=({name:e,attributes:t={},content:r=[],reference:o})=>({name:e,attributes:t,content:Array.isArray(r)?r:[r],reference:o!=null?o:{target:null}}),O=({attributes:e,content:t,reference:r})=>d({name:"button",attributes:e,content:t,reference:r}),C=({attributes:e,content:t,reference:r})=>d({name:"div",attributes:e,content:t,reference:r}),H=({attributes:e,content:t,reference:r})=>d({name:"h1",attributes:e,content:t,reference:r}),q=({attributes:e,reference:t})=>d({name:"input",attributes:e,content:[],reference:t}),G=({attributes:e,content:t,reference:r})=>d({name:"label",attributes:e,content:t,reference:r}),K=({attributes:e,content:t,reference:r})=>d({name:"li",attributes:e,content:t,reference:r}),I=({attributes:e,content:t,reference:r})=>d({name:"p",attributes:e,content:t,reference:r}),z=({attributes:e,content:t,reference:r})=>d({name:"ul",attributes:e,content:t,reference:r}),p=e=>{const t=Object.entries(e).filter(([,r])=>r!=null);return t.length===0?null:t.map(([r,o])=>"".concat(r,": ").concat(o)).join(";")},B=e=>t=>{t.target instanceof HTMLInputElement&&(t.target.value,1)&&e(t.target.value,t)};window.addEventListener("error",e=>{alert("Error: ".concat(e.message))});const W=document.getElementById("root");if(!W)throw new Error("Root element not found");k({root:W,initialState:()=>({counter:10,steps:10}),onUpdate:({state:e,event:t})=>t.name==="INCREMENT"?{...e,counter:e.counter+e.steps}:t.name==="DECREMENT"?e.counter-e.steps<0?{...e,counter:0}:{...e,counter:e.counter-e.steps}:t.name==="SET_STEPS"?{...e,steps:t.data}:e,views:{"/arachnide":({state:e,update:t,go:r})=>C({attributes:{className:"container"},content:[H({attributes:{className:"center",style:p({"text-align":"center"})},content:"Home"}),O({attributes:{style:p({display:"block","margin-left":"auto","margin-right":"auto","margin-bottom":"30px"}),onclick:()=>{r({path:"/arachnide/summary",parameters:{},searchParameters:{}})}},content:"Go to summary"}),I({attributes:{style:p({"text-align":"center"})},content:"Get a summary of all of the below informations"}),C({attributes:{className:"grid"},content:[O({attributes:{className:"outline",onclick:()=>{t({name:"INCREMENT"})}},content:"Increment"}),O({attributes:{className:"outline",onclick:()=>{t({name:"DECREMENT"})}},content:"Decrement"})]}),G({attributes:{for:"steps"},content:" Steps "}),q({attributes:{id:"steps",step:10,type:"number",value:e.steps,oninput:B(o=>{t({name:"SET_STEPS",data:Number(o)||100})})}}),z({content:Array.from(Array(e.counter)).map((o,n)=>K({attributes:{},content:"Index #".concat(n)}))})]}),"/arachnide/summary":({state:e,go:t})=>C({attributes:{className:"container"},content:[H({attributes:{style:p({"text-align":"center"})},content:"Summary"}),I({attributes:{style:p({"text-align":"center"})},content:"Counter is currently at ".concat(e.counter)}),I({attributes:{style:p({"text-align":"center"})},content:"Steps is currently at ".concat(e.steps)}),O({attributes:{style:p({display:"block",margin:"0 auto"}),onclick:()=>{t({path:"/arachnide",parameters:{},searchParameters:{}})}},content:"Go back home"})]})}});export{F as __vite_legacy_guard};
