function P(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const I=t=>typeof t=="object"&&t!==null&&"target"in t&&(t.target===null||t.target instanceof Element),p=t=>{if(t==null)return null;if(typeof t=="string")return document.createTextNode(t);if(typeof t=="boolean"||typeof t=="number")return document.createTextNode(String(t));const e=document.createElement(t.name);return Object.entries(t.attributes).forEach(([n,r])=>{r!=null&&(e[n]=r)}),t.children.forEach(n=>{const r=p(n);r!==null&&e.appendChild(r)}),I(t.reference)&&(t.reference.target=e),e},y=(t,e)=>n=>{if(t!=null)if(typeof t!="string"&&typeof t!="number"&&typeof t!="boolean")if(e!=null)if(typeof e!="string"&&typeof e!="number"&&typeof e!="boolean")if(t.name===e.name)Object.entries(t.attributes).forEach(([r,i])=>{const o=e.attributes[r];o!=null?o!==i&&(n[r]=o):n[r]=null}),Object.entries(e.attributes).forEach(([r,i])=>{t.attributes[r]==null&&i!=null&&(n[r]=i)}),t.children.forEach((r,i)=>{if(n===null)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");const o=e.children[i],u=n.childNodes[i],l=y(r,o);if(u===void 0)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");window.queueMicrotask(()=>{l(u)})}),e.children.slice(t.children.length).forEach(r=>{const i=y(null,r);window.queueMicrotask(()=>{i(n)})});else{if(n===null)return;const r=p(e);if(r===null)return;n.replaceWith(r)}else{if(Object.is(t,e)||n===null)return;const r=p(e);if(r===null)return;n.replaceWith(r)}else{if(t==null||n===null)return;n.remove()}else{if(Object.is(t,e)||n===null)return;const r=p(e);if(r===null)return;n.replaceWith(r)}else{if(e==null||n===null)return;const r=p(e);if(r===null)return;n.appendChild(r)}},w=t=>{var n;const e=/^\/?(.*?)\/?$/.exec(t);return e&&(n=e.at(1))!=null?n:t},E=(t,e)=>Object.entries(e).find(([r])=>{const i=w(r),o=w(t),u=i.split(/\/+/),l=o.split(/\/+/);return l.length===u.length&&u.every((s,c)=>s.startsWith(":")?!0:s===l[c])})||["",()=>null],g=(t,e)=>{const n=w(t),r=w(e),i=n.split(/\/+/),o=r.split(/\/+/);return o.length!==i.length?{}:i.every((u,l)=>u.startsWith(":")?!0:u===o[l])?i.reduce((u,l,s)=>{if(!l.startsWith(":"))return u;const c=o[s];return c?{...u,["".concat(l.slice(1))]:c}:u},{}):{}},j=({views:t,root:e,state:n,update:r})=>{let i;const o="arachnide:emit",u=a=>{a!==null&&window.dispatchEvent(new CustomEvent(o,{detail:a}))},l=(a,h)=>{window.history.pushState(null,a,Object.entries(h).reduce((m,[d,f])=>m.replaceAll(":".concat(d),String(f)),a)),window.dispatchEvent(new CustomEvent("popstate"))};window.addEventListener("popstate",()=>{const[a,h]=E(window.location.pathname,t),m=g(a,window.location.pathname),d=h({state:n,emit:u,go:l,parameters:m}),f=y(i,d);i=d,f(e.firstChild)}),window.addEventListener(o,({detail:a})=>{n=r({event:a,state:n});const[h,m]=E(window.location.pathname,t),d=g(h,window.location.pathname),f=m({state:n,emit:u,go:l,parameters:d}),T=y(i,f);i=f,T(e.firstChild)});const[s,c]=E(window.location.pathname,t),S=g(s,window.location.pathname),O=c({state:n,emit:u,go:l,parameters:S}),C=p(O);return i=O,C!==null&&e.appendChild(C),{emit:u,go:l}},b=({attributes:t,children:e,reference:n})=>({name:"button",attributes:t,children:e,reference:n}),N=({attributes:t,children:e})=>({name:"div",attributes:t,children:e}),L=({attributes:t})=>({name:"input",attributes:t,children:[]}),$=({attributes:t,children:e})=>({name:"label",attributes:t,children:e}),D=({attributes:t,children:e})=>({name:"li",attributes:t,children:e}),v=({attributes:t,children:e})=>({name:"p",attributes:t,children:e}),_=({attributes:t,children:e})=>({name:"ul",attributes:t,children:e}),x=t=>e=>{e.target instanceof HTMLInputElement&&(e.target.value,1)&&t(e.target.value,e)},M=document.getElementById("root");if(!M)throw new Error("Root element not found");j({root:M,state:{counter:10,steps:10},update:({state:t,event:e})=>e.type==="INCREMENT"?{...t,counter:t.counter+t.steps}:e.type==="DECREMENT"?t.counter-t.steps<0?{...t,counter:0}:{...t,counter:t.counter-t.steps}:e.type==="SET_STEPS"?{...t,steps:e.payload}:t,views:{"/arachnide":({state:t,emit:e,go:n})=>N({attributes:{},children:[b({attributes:{onclick:()=>{n("/arachnide/summary",{})}},children:["Go to summary"]}),v({attributes:{},children:["Get a summary of all of the below informations"]}),b({attributes:{onclick:()=>{e({type:"INCREMENT",payload:null})}},children:["Increment"]}),b({attributes:{onclick:()=>{e({type:"DECREMENT",payload:null})}},children:["Decrement"]}),$({attributes:{for:"steps"},children:[" Steps "]}),L({attributes:{id:"steps",step:10,type:"number",value:t.steps,oninput:x(r=>{e({type:"SET_STEPS",payload:Number(r)||100})})}}),_({attributes:{},children:Array.from(Array(t.counter)).map((r,i)=>D({attributes:{},children:["Index #".concat(i)]}))})]}),"/arachnide/summary":({state:t,go:e})=>N({attributes:{},children:[v({attributes:{},children:["Counter is currently at ".concat(t.counter)]}),v({attributes:{},children:["Steps is currently at ".concat(t.steps)]}),b({attributes:{onclick:()=>{e("/arachnide",{})}},children:["Go back home"]})]})}});export{P as __vite_legacy_guard};
