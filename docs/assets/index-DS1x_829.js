function W(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const p=e=>{if(e==null)return null;if(typeof e=="string")return document.createTextNode(e);if(typeof e=="boolean"||typeof e=="number")return document.createTextNode(String(e));const t=document.createElement(e.name);return Object.entries(e.attributes).forEach(([n,r])=>{r!=null&&(t[n]=r)}),e.children.forEach(n=>{const r=p(n);r!==null&&t.appendChild(r)}),t},w=(e,t)=>n=>{if(e!=null)if(typeof e!="string"&&typeof e!="number"&&typeof e!="boolean")if(t!=null)if(typeof t!="string"&&typeof t!="number"&&typeof t!="boolean")if(e.name===t.name)Object.entries(e.attributes).forEach(([r,i])=>{const o=t.attributes[r];o!=null?o!==i&&(n[r]=o):n[r]=null}),Object.entries(t.attributes).forEach(([r,i])=>{e.attributes[r]==null&&i!=null&&(n[r]=i)}),e.children.forEach((r,i)=>{if(n===null)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");const o=t.children[i],l=n.childNodes[i],c=w(r,o);if(l===void 0)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");window.queueMicrotask(()=>{c(l)})}),t.children.slice(e.children.length).forEach(r=>{const i=w(null,r);window.queueMicrotask(()=>{i(n)})});else{if(n===null)return;const r=p(t);if(r===null)return;n.replaceWith(r)}else{if(Object.is(e,t)||n===null)return;const r=p(t);if(r===null)return;n.replaceWith(r)}else{if(e==null||n===null)return;n.remove()}else{if(Object.is(e,t)||n===null)return;const r=p(t);if(r===null)return;n.replaceWith(r)}else{if(t==null||n===null)return;const r=p(t);if(r===null)return;n.appendChild(r)}},y=e=>{var n;const t=/^\/?(.*?)\/?$/.exec(e);return t&&(n=t.at(1))!=null?n:e},g=(e,t)=>Object.entries(t).find(([r])=>{const i=y(r),o=y(e),l=i.split(/\/+/),c=o.split(/\/+/);return c.length===l.length&&l.every((a,s)=>a.startsWith(":")?!0:a===c[s])})||["",()=>null],E=(e,t)=>{const n=y(e),r=y(t),i=n.split(/\/+/),o=r.split(/\/+/);return o.length!==i.length?{}:i.every((l,c)=>l.startsWith(":")?!0:l===o[c])?i.reduce((l,c,a)=>{if(!c.startsWith(":"))return l;const s=o[a];return s?{...l,["".concat(c.slice(1))]:s}:l},{}):{}},I=({views:e,root:t,state:n,update:r})=>{let i;const o="arachnide:emit",l=u=>{u!==null&&window.dispatchEvent(new CustomEvent(o,{detail:u}))},c=(u,m)=>{window.history.pushState(null,u,Object.entries(m).reduce((b,[d,f])=>b.replaceAll(":".concat(d),String(f)),u)),window.dispatchEvent(new CustomEvent("popstate"))};window.addEventListener("popstate",()=>{const[u,m]=g(window.location.pathname,e),b=E(u,window.location.pathname),d=m({state:n,emit:l,go:c,parameters:b}),f=w(i,d);i=d,f(t.firstChild)}),window.addEventListener(o,({detail:u})=>{n=r({event:u,state:n});const[m,b]=g(window.location.pathname,e),d=E(m,window.location.pathname),f=b({state:n,emit:l,go:c,parameters:d}),D=w(i,f);i=f,D(t.firstChild)});const[a,s]=g(window.location.pathname,e),j=E(a,window.location.pathname),O=s({state:n,emit:l,go:c,parameters:j}),N=p(O);return i=O,N!==null&&t.appendChild(N),{emit:l,go:c}},h=({attributes:e,children:t})=>({name:"button",attributes:e,children:t}),v=({attributes:e,children:t})=>({name:"div",attributes:e,children:t}),L=({attributes:e,children:t})=>({name:"p",attributes:e,children:t}),C=({attributes:e,children:t})=>({name:"span",attributes:e,children:t}),M=document.getElementById("root");if(!M)throw new Error("Root element not found");I({root:M,state:{counter:15},update:({state:e,event:t})=>t.type==="INCREMENT"?{...e,counter:e.counter+1}:t.type==="DECREMENT"?{...e,counter:e.counter-1}:e,views:{"/arachnide/info":({state:e,go:t})=>v({attributes:{},children:[C({attributes:{},children:["Hint: counter was previously ".concat(e.counter)]}),h({attributes:{onclick:()=>{t("/arachnide",{})}},children:["Go back"]})]}),"/arachnide":({state:e,emit:t,go:n})=>v({attributes:{},children:[h({attributes:{onclick:()=>{n("/arachnide/info",{})}},children:["Go to info"]}),h({attributes:{onclick:()=>{n("/arachnide/greetings/yourself",{})}},children:["Go to greetings"]}),h({attributes:{onclick:()=>{t({type:"DECREMENT",payload:null})}},children:["Decrement"]}),C({attributes:{},children:[e.counter]}),h({attributes:{onclick:()=>{t({type:"INCREMENT",payload:null})}},children:["Increment"]})]}),"/arachnide/greetings/:name":({parameters:e,go:t})=>v({attributes:{},children:[h({attributes:{onclick:()=>{t("/arachnide",{})}},children:["Go back home"]}),L({attributes:{},children:["Welcome, ".concat(e.name)]})]})}});export{W as __vite_legacy_guard};
