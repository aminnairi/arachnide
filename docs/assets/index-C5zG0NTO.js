(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();const p=e=>{if(e==null)return null;if(typeof e=="string")return document.createTextNode(e);if(typeof e=="boolean"||typeof e=="number")return document.createTextNode(String(e));const t=document.createElement(e.name);return Object.entries(e.attributes).forEach(([i,n])=>{n!=null&&(t[i]=n)}),e.children.forEach(i=>{const n=p(i);n!==null&&t.appendChild(n)}),t},w=(e,t)=>i=>{if(e!=null)if(typeof e!="string"&&typeof e!="number"&&typeof e!="boolean")if(t!=null)if(typeof t!="string"&&typeof t!="number"&&typeof t!="boolean")if(e.name===t.name)Object.entries(e.attributes).forEach(([n,r])=>{const o=t.attributes[n];o!=null?o!==r&&(i[n]=o):i[n]=null}),Object.entries(t.attributes).forEach(([n,r])=>{e.attributes[n]==null&&r!=null&&(i[n]=r)}),e.children.forEach((n,r)=>{if(i===null)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");const o=t.children[r],l=i.childNodes[r],u=w(n,o);if(l===void 0)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");window.queueMicrotask(()=>{u(l)})}),t.children.slice(e.children.length).forEach(n=>{const r=w(null,n);window.queueMicrotask(()=>{r(i)})});else{if(i===null)return;const n=p(t);if(n===null)return;i.replaceWith(n)}else{if(Object.is(e,t)||i===null)return;const n=p(t);if(n===null)return;i.replaceWith(n)}else{if(e==null||i===null)return;i.remove()}else{if(Object.is(e,t)||i===null)return;const n=p(t);if(n===null)return;i.replaceWith(n)}else{if(t==null||i===null)return;const n=p(t);if(n===null)return;i.appendChild(n)}},y=e=>{const t=/^\/?(.*?)\/?$/.exec(e);return t?t.at(1)??e:e},g=(e,t)=>Object.entries(t).find(([n])=>{const r=y(n),o=y(e),l=r.split(/\/+/),u=o.split(/\/+/);return u.length===l.length&&l.every((a,s)=>a.startsWith(":")?!0:a===u[s])})||["",()=>null],E=(e,t)=>{const i=y(e),n=y(t),r=i.split(/\/+/),o=n.split(/\/+/);return o.length!==r.length?{}:r.every((l,u)=>l.startsWith(":")?!0:l===o[u])?r.reduce((l,u,a)=>{if(!u.startsWith(":"))return l;const s=o[a];return s?{...l,[`${u.slice(1)}`]:s}:l},{}):{}},j=({views:e,root:t,state:i,update:n})=>{let r;const o=window.crypto.randomUUID(),l=c=>{c!==null&&window.dispatchEvent(new CustomEvent(o,{detail:c}))},u=(c,m)=>{window.history.pushState(null,c,Object.entries(m).reduce((b,[d,f])=>b.replaceAll(`:${d}`,String(f)),c)),window.dispatchEvent(new CustomEvent("popstate"))};window.addEventListener("popstate",()=>{const[c,m]=g(window.location.pathname,e),b=E(c,window.location.pathname),d=m({state:i,emit:l,go:u,parameters:b}),f=w(r,d);r=d,f(t.firstChild)}),window.addEventListener(o,({detail:c})=>{i=n({event:c,state:i});const[m,b]=g(window.location.pathname,e),d=E(m,window.location.pathname),f=b({state:i,emit:l,go:u,parameters:d}),I=w(r,f);r=f,I(t.firstChild)});const[a,s]=g(window.location.pathname,e),D=E(a,window.location.pathname),O=s({state:i,emit:l,go:u,parameters:D}),N=p(O);return r=O,N!==null&&t.appendChild(N),{emit:l,go:u}},h=({attributes:e,children:t})=>({name:"button",attributes:e,children:t}),v=({attributes:e,children:t})=>({name:"div",attributes:e,children:t}),L=({attributes:e,children:t})=>({name:"p",attributes:e,children:t}),C=({attributes:e,children:t})=>({name:"span",attributes:e,children:t}),M=document.getElementById("root");if(!M)throw new Error("Root element not found");j({root:M,state:{counter:15},update:({state:e,event:t})=>t.type==="INCREMENT"?{...e,counter:e.counter+1}:t.type==="DECREMENT"?{...e,counter:e.counter-1}:e,views:{"/arachnide/info":({state:e,go:t})=>v({attributes:{},children:[C({attributes:{},children:[`Hint: counter was previously ${e.counter}`]}),h({attributes:{onclick:()=>{t("/arachnide",{})}},children:["Go back"]})]}),"/arachnide":({state:e,emit:t,go:i})=>v({attributes:{},children:[h({attributes:{onclick:()=>{i("/arachnide/info",{})}},children:["Go to info"]}),h({attributes:{onclick:()=>{i("/arachnide/greetings/yourself",{})}},children:["Go to greetings"]}),h({attributes:{onclick:()=>{t({type:"DECREMENT",payload:null})}},children:["Decrement"]}),C({attributes:{},children:[e.counter]}),h({attributes:{onclick:()=>{t({type:"INCREMENT",payload:null})}},children:["Increment"]})]}),"/arachnide/greetings/:name":({parameters:e,go:t})=>v({attributes:{},children:[h({attributes:{onclick:()=>{t("/arachnide",{})}},children:["Go back home"]}),L({attributes:{},children:[`Welcome, ${e.name}`]})]})}});
