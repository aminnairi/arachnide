(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}})();const f=e=>{if(e==null)return null;if(typeof e=="string")return document.createTextNode(e);if(typeof e=="boolean"||typeof e=="number")return document.createTextNode(String(e));const t=document.createElement(e.name);return Object.entries(e.attributes).forEach(([o,n])=>{n!=null&&(t[o]=n)}),e.children.forEach(o=>{const n=f(o);n!==null&&t.appendChild(n)}),t},m=(e,t)=>o=>{if(e==null){if(t==null||o===null)return;const n=f(t);return n===null?void 0:void o.appendChild(n)}if(typeof e=="string"||typeof e=="number"||typeof e=="boolean"){if(Object.is(e,t)||o===null)return;const n=f(t);return n===null?void 0:void o.replaceWith(n)}if(t==null)return e==null||o===null?void 0:void o.remove();if(typeof t=="string"||typeof t=="number"||typeof t=="boolean"){if(Object.is(e,t)||o===null)return;const n=f(t);return n===null?void 0:void o.replaceWith(n)}if(e.name!==t.name){if(o===null)return;const n=f(t);return n===null?void 0:void o.replaceWith(n)}Object.entries(e.attributes).forEach(([n,r])=>{const i=t.attributes[n];i!=null?i!==r&&(o[n]=i):o[n]=null}),Object.entries(t.attributes).forEach(([n,r])=>{e.attributes[n]==null&&r!=null&&(o[n]=r)}),e.children.map((n,r)=>{if(o===null)return()=>{};const i=t.children[r],u=o.childNodes[r],a=m(n,i);if(u===void 0)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");return()=>a(u)}).forEach(n=>{n()}),t.children.slice(e.children.length).map(n=>{const r=m(null,n);return()=>r(o)}).forEach(n=>{n()})},d=e=>{const t=/^\/?(.*?)\/?$/.exec(e);return t?t.at(1)??e:e},N=({views:e,root:t,state:o,update:n})=>{let r;const i=window.crypto.randomUUID(),u=l=>{l!==null&&window.dispatchEvent(new CustomEvent(i,{detail:l}))},a=(l,c)=>{window.history.pushState(null,l,Object.entries(c).reduce((s,[p,b])=>s.replaceAll(`:${p}`,String(b)),l)),window.dispatchEvent(new CustomEvent("popstate"))};window.addEventListener("popstate",()=>{const l=Object.entries(e).find(([p])=>d(p)===d(window.location.pathname)),c=(l?l[1]:()=>null)({state:o,emit:u,go:a}),s=m(r,c);r=c,s(t.firstChild)}),window.addEventListener(i,({detail:l})=>{o=n({event:l,state:o});const c=Object.entries(e).find(([b])=>d(b)===d(window.location.pathname)),s=(c?c[1]:()=>null)({state:o,emit:u,go:a}),p=m(r,s);r=s,p(t.firstChild)});const y=Object.entries(e).find(([l])=>d(l)===d(window.location.pathname)),w=(y?y[1]:()=>null)({state:o,emit:u,go:a}),E=f(w);return r=w,E!==null&&t.appendChild(E),{emit:u,go:a}},h=({attributes:e,children:t})=>({name:"button",attributes:e,children:t}),v=({attributes:e,children:t})=>({name:"div",attributes:e,children:t}),g=({attributes:e,children:t})=>({name:"span",attributes:e,children:t}),O=document.getElementById("root");if(!O)throw new Error("Root element not found");N({root:O,state:{counter:15},update:({state:e,event:t})=>t.type==="INCREMENT"?{...e,counter:e.counter+1}:t.type==="DECREMENT"?{...e,counter:e.counter-1}:e,views:{"/arachnide/info":({state:e,go:t})=>v({attributes:{},children:[g({attributes:{},children:[`Hint: counter was previously ${e.counter}`]}),h({attributes:{onclick:()=>{t("/arachnide",{})}},children:["Go back"]})]}),"/arachnide":({state:e,emit:t,go:o})=>v({attributes:{},children:[h({attributes:{onclick:()=>{o("/arachnide/info",{})}},children:["Go to info"]}),h({attributes:{onclick:()=>{t({type:"DECREMENT",payload:null})}},children:["Decrement"]}),g({attributes:{},children:[e.counter]}),h({attributes:{onclick:()=>{t({type:"INCREMENT",payload:null})}},children:["Increment"]})]})}});
