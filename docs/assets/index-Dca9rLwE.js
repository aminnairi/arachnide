var G=Object.defineProperty;var V=(e,t,r)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var p=(e,t,r)=>(V(e,typeof t!="symbol"?t+"":t,r),r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();class b{constructor(t,r,o,n,a,i){p(this,"name");p(this,"attributes");p(this,"content");p(this,"reference");p(this,"whenCreated");p(this,"whenDestroyed");this.name=t,this.attributes=r,this.content=o,this.reference=n,this.whenCreated=a,this.whenDestroyed=i}}const E=e=>{if(e==null)return null;if(typeof e=="string")return document.createTextNode(e);if(typeof e=="boolean"||typeof e=="number")return document.createTextNode(String(e));if(!(e instanceof b))throw new Error("virtualElement is not an instance of VirtualHTMLElement");const t=document.createElement(e.name);return Object.entries(e.attributes).forEach(([r,o])=>{o!=null&&(t[r]=o)}),e.content.forEach(r=>{const o=E(r);o!==null&&t.appendChild(o)}),e.reference.target=t,e.whenCreated(),t},x=e=>typeof e=="string",R=e=>typeof e=="number",W=e=>typeof e=="boolean",v=e=>e===null,O=e=>e===void 0,P=e=>e instanceof Element,D=(e,t)=>r=>{var o;if(v(e)||O(e)){if(v(t)||O(t))return;if(r===null)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");const n=E(t);return n===null?void 0:(r.appendChild(n),void(t instanceof b&&(t.whenCreated(),P(n)&&(t.reference.target=n))))}if(x(e)||R(e)||W(e)){if(Object.is(e,t))return;if(r===null)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");const n=E(t);return n===null?void 0:(r.replaceWith(n),void(t instanceof b&&(t.whenCreated(),P(n)&&(t.reference.target=n))))}if(v(t)||O(t)){if(v(e)||O(e))return;if(r===null)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");return r.remove(),void e.whenDestroyed()}if(x(t)||R(t)||W(t)){if(Object.is(e,t))return;if(r===null)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");const n=E(t);return n===null?void 0:(r.replaceWith(n),void(e instanceof b&&e.whenDestroyed()))}if(!(e instanceof b))throw new Error("old virtual element from previous render is not an instance of VirtualHTMLElement");if(!(t instanceof b))throw new Error("old virtual element from previous render is not an instance of VirtualHTMLElement");if(e.name!==t.name){if(r===null)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");const n=E(t);return n===null?void 0:(r.replaceWith(n),P(n)&&(t.reference.target=n),e.whenDestroyed(),void t.whenCreated())}Object.entries(e.attributes).forEach(([n,a])=>{var s;const i=((s=t==null?void 0:t.attributes)!=null?s:{})[n];i!=null?i!==a&&(r[n]=i):r[n]=null}),Object.entries(t.attributes).forEach(([n,a])=>{e.attributes[n]==null&&a!=null&&(r[n]=a)}),e.content.forEach((n,a)=>{if(r===null)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");const i=t.content[a],s=r.childNodes[a],l=D(n,i);if(s===void 0)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");window.queueMicrotask(()=>{l(s)})}),t.content.slice(((o=e==null?void 0:e.content)!=null?o:[]).length).forEach(n=>{const a=D(null,n);window.queueMicrotask(()=>{a(r)})})},h=({name:e,attributes:t={},content:r=[],reference:o,whenCreated:n=()=>{},whenDestroyed:a=()=>{}})=>new b(e,t,Array.isArray(r)?r:[r],o!=null?o:{target:null},n,a),C=e=>{var r;const t=/^\/?(.*?)\/?$/.exec(e);return t&&(r=t.at(1))!=null?r:e},N=(e,t)=>Object.entries(t).find(([o])=>{const n=C(o),a=C(e),i=n.split(/\/+/),s=a.split(/\/+/);return s.length===i.length&&i.every((l,y)=>l.startsWith(":")?!0:l===s[y])})||["",()=>null],L=(e,t)=>{const r=C(e),o=C(t),n=r.split(/\/+/),a=o.split(/\/+/);return a.length!==n.length?{}:n.every((i,s)=>i.startsWith(":")?!0:i===a[s])?n.reduce((i,s,l)=>{if(!s.startsWith(":"))return i;const y=a[l];return y?{...i,["".concat(s.slice(1))]:y}:i},{}):{}},F=({pages:e,root:t,initialState:r,onUpdate:o})=>{let n,a=r();const i="arachnide:update",s=u=>{const c=u(a);c!==null&&window.dispatchEvent(new CustomEvent(i,{detail:c}))},l=u=>{const c=Object.entries(u.parameters).reduce((d,[m,S])=>d.replaceAll(":".concat(m),String(S)),u.path),g=new URLSearchParams(Object.entries(u.searchParameters).map(([d,m])=>[d,String(m)])),f=g.size===0?c:"".concat(c,"?").concat(g.toString());console.log({targetPathWithQuery:f}),window.history.pushState(null,f,f),window.dispatchEvent(new CustomEvent("popstate"))};window.addEventListener("popstate",()=>{const[u,c]=N(window.location.pathname,e),g=L(u,window.location.pathname),f=Object.fromEntries(new URLSearchParams(window.location.search)),d=c({state:a,update:s,changePage:l,parameters:g,searchParameters:f}),m=D(n,d);n=d,m(t.firstChild)}),window.addEventListener(i,({detail:u})=>{a=o({event:u,state:a});const[c,g]=N(window.location.pathname,e),f=L(c,window.location.pathname),d=Object.fromEntries(new URLSearchParams(window.location.search)),m=g({state:a,update:s,changePage:l,parameters:f,searchParameters:d}),S=D(n,m);n=m,S(t.firstChild)});const[y,k]=N(window.location.pathname,e),_=L(y,window.location.pathname),q=Object.fromEntries(new URLSearchParams(window.location.search)),$=k({state:a,update:s,changePage:l,parameters:_,searchParameters:q}),H=E($);return n=$,H!==null&&t.appendChild(H),{update:s,changePage:l}},M=e=>h({name:"button",...e}),j=e=>h({...e,name:"div"}),A=e=>h({...e,name:"h1"}),K=e=>h({...e,name:"input",content:[]}),z=e=>h({...e,name:"label"}),B=e=>h({...e,name:"li"}),I=e=>h({...e,name:"p"}),Q=e=>h({...e,name:"ul"}),w=e=>{const t=Object.entries(e).filter(([,r])=>r!=null);return t.length===0?null:t.map(([r,o])=>"".concat(r,": ").concat(o)).join(";")},Z=e=>t=>{t.target instanceof HTMLInputElement&&(t.target.value,1)&&e(t.target.value,t)};window.addEventListener("error",e=>{alert("Error: ".concat(e.message))});const U=document.getElementById("root");if(!U)throw new Error("Root element not found");F({root:U,initialState:()=>({counter:10,steps:10}),onUpdate:({state:e,event:t})=>t.name==="INCREMENT"?{...e,counter:e.counter+e.steps}:t.name==="DECREMENT"?e.counter-e.steps<0?{...e,counter:0}:{...e,counter:e.counter-e.steps}:t.name==="SET_STEPS"?{...e,steps:t.data}:e,pages:{"/arachnide":({state:e,update:t,changePage:r})=>j({attributes:{className:"container"},content:[A({attributes:{className:"center",style:w({"text-align":"center"})},content:"Home"}),M({attributes:{style:w({display:"block","margin-left":"auto","margin-right":"auto","margin-bottom":"30px"}),onclick:()=>{r({path:"/arachnide/summary",parameters:{},searchParameters:{}})}},content:"Go to summary"}),I({attributes:{style:w({"text-align":"center"})},content:"Get a summary of all of the below informations"}),j({attributes:{className:"grid"},content:[M({attributes:{className:"outline",onclick:()=>{t(()=>({name:"INCREMENT"}))}},content:"Increment"}),M({attributes:{className:"outline",onclick:()=>{t(()=>({name:"DECREMENT"}))}},content:"Decrement"})]}),z({attributes:{htmlFor:"steps"},content:" Steps "}),K({attributes:{id:"steps",step:10,type:"number",value:e.steps,oninput:Z(o=>{t(()=>({name:"SET_STEPS",data:Number(o)||100}))})}}),Q({content:Array.from(Array(e.counter)).map((o,n)=>B({attributes:{},content:"Index #".concat(n)}))})]}),"/arachnide/summary":({state:e,changePage:t})=>j({attributes:{className:"container"},content:[A({attributes:{style:w({"text-align":"center"})},content:"Summary"}),I({attributes:{style:w({"text-align":"center"})},content:"Counter is currently at ".concat(e.counter)}),I({attributes:{style:w({"text-align":"center"})},content:"Steps is currently at ".concat(e.steps)}),M({attributes:{style:w({display:"block",margin:"0 auto"}),onclick:()=>{t({path:"/arachnide",parameters:{},searchParameters:{}})}},content:"Go back home"})]})}});const T=document.createElement("link");T.href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css";T.rel="stylesheet";document.head.appendChild(T);
