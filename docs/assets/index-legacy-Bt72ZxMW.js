!function(){function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(t,e,n){var r;return r=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(e,"string"),(e="symbol"==i(r)?r:r+"")in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,u,a=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw i}}return a}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function o(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}System.register([],(function(t,o){"use strict";return{execute:function(){var t=document.createElement("style");t.textContent=".bold{font-weight:bolder}\n",document.head.appendChild(t);var o=function t(e){if(null==e)return null;if("string"==typeof e)return document.createTextNode(e);if("boolean"==typeof e||"number"==typeof e)return document.createTextNode(String(e));var n,o=document.createElement(e.name);return Object.entries(e.attributes).forEach((function(t){var e=r(t,2),n=e[0],i=e[1];null!=i&&(o[n]=i)})),e.children.forEach((function(e){var n=t(e);null!==n&&o.appendChild(n)})),"object"==i(n=e.reference)&&null!==n&&"target"in n&&(null===n.target||n.target instanceof Element)&&(e.reference.target=o),o},u=function t(e,n){return function(i){if(null!=e)if("string"!=typeof e&&"number"!=typeof e&&"boolean"!=typeof e)if(null!=n)if("string"!=typeof n&&"number"!=typeof n&&"boolean"!=typeof n)if(e.name===n.name)Object.entries(e.attributes).forEach((function(t){var e=r(t,2),o=e[0],u=e[1],a=n.attributes[o];null!=a?a!==u&&(i[o]=a):i[o]=null})),Object.entries(n.attributes).forEach((function(t){var n=r(t,2),o=n[0],u=n[1];null==e.attributes[o]&&null!=u&&(i[o]=u)})),e.children.forEach((function(e,r){if(null===i)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");var o=n.children[r],u=i.childNodes[r],a=t(e,o);if(void 0===u)throw new Error("Invalid DOM node found. Has the DOM been manually updated?");window.queueMicrotask((function(){a(u)}))})),n.children.slice(e.children.length).forEach((function(e){var n=t(null,e);window.queueMicrotask((function(){n(i)}))}));else{if(null===i)return;var u=o(n);if(null===u)return;i.replaceWith(u)}else{if(Object.is(e,n))return;if(null===i)return;var a=o(n);if(null===a)return;i.replaceWith(a)}else{if(null==e)return;if(null===i)return;i.remove()}else{if(Object.is(e,n))return;if(null===i)return;var c=o(n);if(null===c)return;i.replaceWith(c)}else{if(null==n)return;if(null===i)return;var l=o(n);if(null===l)return;i.appendChild(l)}}},a=function(t){var e,n=/^\/?(.*?)\/?$/.exec(t);return n&&null!==(e=n.at(1))&&void 0!==e?e:t},c=function(t,e){var n=Object.entries(e).find((function(e){var n=r(e,1)[0],i=a(n),o=a(t),u=i.split(/\/+/),c=o.split(/\/+/);return c.length===u.length&&u.every((function(t,e){return!!t.startsWith(":")||t===c[e]}))}));return n||["",function(){return null}]},l=function(t,r){var i=a(t),o=a(r),u=i.split(/\/+/),c=o.split(/\/+/);return c.length!==u.length?{}:u.every((function(t,e){return!!t.startsWith(":")||t===c[e]}))?u.reduce((function(t,r,i){if(!r.startsWith(":"))return t;var o=c[i];return o?e(e({},t),{},n({},"".concat(r.slice(1)),o)):t}),{}):{}},f=function(t){return{name:"button",attributes:t.attributes,children:t.children,reference:t.reference}},s=function(t){return{name:"div",attributes:t.attributes,children:t.children}},d=function(t){return{name:"span",attributes:t.attributes,children:t.children}},h=document.getElementById("root");if(!h)throw new Error("Root element not found");!function(t){var e,n=t.views,i=t.root,a=t.state,f=t.update,s="arachnide:emit",d=function(t){null!==t&&window.dispatchEvent(new CustomEvent(s,{detail:t}))},h=function(t,e){window.history.pushState(null,t,Object.entries(e).reduce((function(t,e){var n=r(e,2),i=n[0],o=n[1];return t.replaceAll(":".concat(i),String(o))}),t)),window.dispatchEvent(new CustomEvent("popstate"))};window.addEventListener("popstate",(function(){var t=r(c(window.location.pathname,n),2),o=t[0],f=t[1],s=l(o,window.location.pathname),p=f({state:a,emit:d,go:h,parameters:s}),b=u(e,p);e=p,b(i.firstChild)})),window.addEventListener(s,(function(t){var o=t.detail;a=f({event:o,state:a});var s=r(c(window.location.pathname,n),2),p=s[0],b=s[1],m=l(p,window.location.pathname),y=b({state:a,emit:d,go:h,parameters:m}),v=u(e,y);e=y,v(i.firstChild)}));var p=r(c(window.location.pathname,n),2),b=p[0],m=p[1],y=l(b,window.location.pathname),v=m({state:a,emit:d,go:h,parameters:y}),w=o(v);e=v,null!==w&&i.appendChild(w)}({root:h,state:{counter:15},update:function(t){var n=t.state,r=t.event;return"INCREMENT"===r.type?e(e({},n),{},{counter:n.counter+1}):"DECREMENT"===r.type?e(e({},n),{},{counter:n.counter-1}):n},views:{"/arachnide/info":function(t){var e=t.state,n=t.go;return s({attributes:{},children:[d({attributes:{},children:["Hint: counter was previously ".concat(e.counter)]}),f({attributes:{onclick:function(){n("/arachnide",{})}},children:["Go back"]})]})},"/arachnide":function(t){var e=t.state,n=t.emit,r=t.go;return s({attributes:{},children:[f({attributes:{onclick:function(){r("/arachnide/info",{})}},children:["Go to info"]}),f({attributes:{onclick:function(){r("/arachnide/greetings/yourself",{})}},children:["Go to greetings"]}),f({attributes:{onclick:function(){n({type:"DECREMENT",payload:null})}},children:["Decrement"]}),d({attributes:{},children:[e.counter]}),f({attributes:{onclick:function(){n({type:"INCREMENT",payload:null})}},children:["Increment"]})]})},"/arachnide/greetings/:name":function(t){var e,n=t.parameters,r=t.go;return s({attributes:{},children:[f({attributes:{onclick:function(){r("/arachnide",{})}},children:["Go back home"]}),(e={attributes:{},children:["Welcome, ".concat(n.name)]},{name:"p",attributes:e.attributes,children:e.children})]})}}})}}}))}();
